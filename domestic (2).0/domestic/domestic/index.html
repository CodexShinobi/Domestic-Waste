<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Domestic waste</title>

    <link
      rel="stylesheet"
      href="https://unpkg.com/swiper@7/swiper-bundle.min.css"
    />

    <!-- font awesome cdn link  -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
    


    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- header section starts  -->

    <header class="header">
      <div class="header-1">
        <!-- <a href="#" class="logo"> <i class="#"></i>Domestic</a> -->
       <img class="logo" src="./image/truck.png" alt="truck">
       <h3>eco-cycle</h3>
        <form action="" class="search-form">
          <input
            type="search"
            name=""
            placeholder="search here..."
            id="search-box"
          />
          <label for="search-box" class="fas fa-search"></label>
        </form>

        <div class="icons">
          <div id="search-btn" class="fas fa-search"></div>
        
          <div  id="login-btn" class="fas fa-user"></div> 
        </div>
      </div>

      <div class="header-2">
        <nav class="navbar">
          <a href="index.html">home</a>
          <a href="tracking.html">tracking</a>
          <a href="learning.html">learnig Outcome</a>
          <a href="shop.html">shop</a>
          <a href="donate.html">Donate Now</a>
          <a href="about.html">about us</a>
        </nav>
      </div>
    </header>

    <!-- header section ends -->

    <!-- bottom navbar  -->

    <nav class="bottom-navbar">
      <a href="index.html" class="fas fa-home"></a>
      <a href="#featured" class="fas fa-list"></a>
      <a href="#arrivals" class="fas fa-tags"></a>
      <a href="#reviews" class="fas fa-comments"></a>
      <a href="#blogs" class="fas fa-blog"></a>
    </nav>

    <!-- login form  -->

<div class="login-form-container">
      <div id="close-login-btn" class="fas fa-times"></div>

      <form action="">
        <h3>sign in</h3>
        <span>username</span>
        <input
          type="email"
          name=""
          class="box"
          placeholder="enter your email"
          id=""
        />
        <span>password</span>
        <input
          type="password"
          name=""
          class="box"
          placeholder="enter your password"
          id=""
        />
        <div class="checkbox">
          <input type="checkbox" name="" id="remember-me" />
          <label for="remember-me"> remember me</label>
        </div>
        <input type="submit" value="sign in" class="btn" />
        <p>forget password ? <a href="#">click here</a></p>
        <p>don't have an account ? <a href="#">create one</a></p>
      </form> 
    </div> 

    <!-- home section starts  -->

    <section class="home" id="home">
      <div class="row">
        <div class="content">
          <h3>Domestic waste</h3>
          <p>
            "A Greener Home, A Greener Tomorrow: Embrace the Challenge of Waste Management."
          </p>
          <a href="#" class="btn">know more</a>
        </div>
      </div>
    </section>

    <!-- home section ense  -->

    <!-- icons section starts  -->

    <section class="icons-container">
      <div class="icons">
        <i class="fas fa-coins"></i>
        <div class="content">
          <h3>earn coins</h3>
          <p>everyday</p>
        </div>
      </div>

      <div class="icons">
        <i class="fas fa-lock"></i>
        <div class="content">
          <h3>secure recyclable</h3>
        </div>
      </div>

      <div class="icons">
        <i class="fas fa-redo-alt"></i>
        <div class="content">
          <h3>easy recyclable</h3>
        </div>
      </div>

      <div class="icons">
        <i class="fas fa-headset"></i>
        <div class="content">
          <h3>24/7 support</h3>
          <p>call us anytime</p>
        </div>
      </div>
    </section>

      <!-- blogs section starts  -->

      <section class="blogs" id="blogs">
        <h1 class="heading"><span>our connections</span></h1>
  
        <div class="swiper blogs-slider">
          <div class="swiper-wrapper">
            <div class="swiper-slide box">
              <div class="image">
                <img src="image/pexels-alwi-hafizh-al-mumtaz-4840958-min.jpg" alt="" />
              </div>
              <div class="content">
                <h3>Hare Krishna Sudama Gaushala</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio,
                  odio.
                </p>
                <a href="https://indiancattle.com/directory/hare-krishna-sudama-gaushala/" class="btn">read more</a>
              </div>
            </div>
  
            <div class="swiper-slide box">
              <div class="image">
                <img src="image/pexels-cottonbro-studio-4910763-min.jpg" alt="" />
              </div>
              <div class="content">
                <h3>Shri Gaurang Go Seva Sanstha</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio,
                  odio.
                </p>
                <a href="https://indiancattle.com/directory/shri-gaurang-go-seva-sanstha/" class="btn">read more</a>
              </div>
            </div>
  
            <div class="swiper-slide box">
              <div class="image">
                <img src="image/pexels-freestocksorg-69170-min.jpg" alt="" />
              </div>
              <div class="content">
                <h3>Shri Rajaram Gousala</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio,
                  odio.
                </p>
                <a href="https://indiancattle.com/directory/shri-rajaram-gousala-2/" class="btn">read more</a>
              </div>
            </div>
  
            <div class="swiper-slide box">
              <div class="image">
                <img src="image/blog-4.jpg" alt="" />
              </div>
              <div class="content">
                <h3>blog title goes here</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio,
                  odio.
                </p>
                <a href="#" class="btn">read more</a>
              </div>
            </div>
  
            <div class="swiper-slide box">
              <div class="image">
                <img src="image/blog-5.jpg" alt="" />
              </div>
              <div class="content">
                <h3>blog title goes here</h3>
                <p>
                  Lorem ipsum dolor sit amet consectetur adipisicing elit. Optio,
                  odio.
                </p>
                <a href="#" class="btn">read more</a>
              </div>
            </div>
          </div>
        </div>
      </section>
  
      <!-- blogs section ends -->

    <!----Upload section start----->

    <main class="app">
    
      <div class="headerr">
        <h2>Upload Images</h2>
        <div class="server-message"></div>
      </div>
  
      <div class="input-div">
        <p>Drag & drop photos here or <span class="browse">Browse</span></p>
        <input type="file" class="file" multiple="multiple" accept="image/jpeg, image/png, image/jpg"/>
      </div>
  
      <form id="saved-form">
        <div class="headerr">
          <h3>Saved in Server</h3>
          <button type="submit">Delete</button>
        </div>
        <div class="saved-div"></div>
      </form>
  
      <form id="queued-form">
        <div class="headerr">
          <h3>Queued in Frontend</h3>
          <button type="submit">Upload</button>
        </div>
        <div class="queued-div"></div>
      </form>
  
    </main>
  
    <script>
  
      let queuedImagesArray = [],
      savedForm = document.querySelector("#saved-form"),
      queuedForm = document.querySelector("#queued-form"),
      savedDiv = document.querySelector('.saved-div'),
      queuedDiv = document.querySelector('.queued-div'),
      inputDiv = document.querySelector('.input-div'),
      input = document.querySelector('.input-div input'),
      serverMessage = document.querySelector('.server-message'),
      savedImages = JSON.parse('<%-JSON.stringify(images)%>'),
      deleteImages = [];
  
      // SAVED IMAGES
      if(savedImages){
        displaySavedImages()
      } 
  
      function displaySavedImages(){
        let images = "";
          savedImages.forEach((image, index) => {
            images += `<div class="image">
                        <img src="http://localhost:3000/${image.image_key}" alt="image">
                        <span onclick="deleteSavedImage(${index})">&times;</span>
                      </div>`;
          })
        savedDiv.innerHTML = images;
      }
  
      function deleteSavedImage(index) {
        deleteImages.push(savedImages[index].image_key)
        savedImages.splice(index, 1);
        displaySavedImages();
      }
  
      savedForm.addEventListener("submit", (e) => {
        e.preventDefault()
        deleteImagesFromServer()
      });
  
      function deleteImagesFromServer() {
  
        fetch("delete", {
          method: "PUT",
          headers: {
            "Accept": "application/json, text/plain, */*",
            "Content-type": "application/json"
          },
          body: JSON.stringify({deleteImages})
        })
  
        .then(response => {
          if (response.status !== 200) throw Error(response.statusText)
          deleteImages = []
          serverMessage.innerHTML = response.statusText
          serverMessage.style.cssText = "background-color: #d4edda; color:#1b5e20"
        })
  
        .catch(error => {
          serverMessage.innerHTML = error
          serverMessage.style.cssText = "background-color: #f8d7da; color:#b71c1c"
        });
  
      }
  
      // QUEUED IMAGES
  
      function displayQueuedImages() {
        let images = "";
        queuedImagesArray.forEach((image, index) => {
          images += `<div class="image">
                      <img src="${URL.createObjectURL(image)}" alt="image">
                      <span onclick="deleteQueuedImage(${index})">&times;</span>
                    </div>`;
        })
        queuedDiv.innerHTML = images;
      }
  
      function deleteQueuedImage(index) {
        queuedImagesArray.splice(index, 1);
        displayQueuedImages();
      }
  
      input.addEventListener("change", () => {
        const files = input.files;
        for (let i = 0; i < files.length; i++) {
          queuedImagesArray.push(files[i])
        }
        queuedForm.reset();
        displayQueuedImages()
      })
  
      inputDiv.addEventListener("drop", (e) => {
        e.preventDefault()
        const files = e.dataTransfer.files
        for (let i = 0; i < files.length; i++) {
          if (!files[i].type.match("image")) continue; // only photos
          
          if (queuedImagesArray.every(image => image.name !== files[i].name))
            queuedImagesArray.push(files[i])
        }
        displayQueuedImages()
      })
  
      queuedForm.addEventListener("submit", (e) => {
        e.preventDefault()
        sendQueuedImagesToServer()
      });
  
      function sendQueuedImagesToServer() {
        const formData = new FormData(queuedForm);
  
        queuedImagesArray.forEach((image, index) => {
          formData.append(`file[${index}]`, image)
        })
  
        fetch("upload", {
          method: "POST",
          body: formData
        })
          
        .then(response => {
          if(response.status !== 200) throw Error(response.statusText)
          location.reload() 
        })
  
        .catch( error => { 
          serverMessage.innerHTML = error
          serverMessage.style.cssText = "background-color: #f8d7da; color:#b71c1c"
        });
  
      }
  
    </script>

   <!----Upload section end----->

  <!---- contact details start--->

  <div class="container-3">
    <span class="big-circle"></span>
    <img src="img/shape.png" class="square" alt="" />
    <div class="form">
      <div class="contact-info">
        <h3 class="title">Let's get in touch</h3>
        <p class="text">
          Lorem ipsum dolor sit amet consectetur adipisicing elit. Saepe
          dolorum adipisci recusandae praesentium dicta!
        </p>

        <div class="info">
          <div class="information">
            <img src="img/location.png" class="icon" alt="" />
            <p>kharar mohali, 140301</p>
          </div>
          <div class="information">
            <img src="img/email.png" class="icon" alt="" />
            <p>sahilsoni2005s@gmail.com</p>
          </div>
          <div class="information">
            <img src="img/phone.png" class="icon" alt="" />
            <p>8102976545</p>
          </div>
        </div>

        <div class="social-media">
          <p>Connect with us :</p>
          <div class="social-icons">
            <a href="#">
              <i class="fab fa-facebook-f"></i>
            </a>
            <a href="#">
              <i class="fab fa-twitter"></i>
            </a>
            <a href="#">
              <i class="fab fa-instagram"></i>
            </a>
            <a href="#">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>
        </div>
      </div>

      <div class="contact-form">
        <span class="circle one"></span>
        <span class="circle two"></span>

        <form action="index.html" autocomplete="off">
          <h3 class="title">Please Fill Address</h3>
          <div class="input-container-3">
            <input type="text" name="name" class="input" />
            <label for="">your name</label>
            <span>name</span>
          </div>
          <div class="input-container-3">
            <input type="email" name="email" class="input" />
            <label for="">your Email</label>
            <span>Email</span>
          </div>
          <div class="input-container-3">
            <input type="tel" name="phone" class="input" />
            <label for="">your Phone</label>
            <span>Phone</span>
          </div>
          <div class="input-container-3 textarea">
            <textarea name="message" class="input"></textarea>
            <label for="">Address</label>
            <span>Message</span>
          </div>
          <input type="submit" value="Send" class="btn-2" />
        </form>
      </div>
    </div>
  </div>

  <!---- contact details end--->
  

    <!-- footer section starts  -->

    <section class="footer">
      <div class="box-container-0">
        <div class="box">
          <h3>our locations</h3>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> india </a>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> USA </a>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> russia </a>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> france </a>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> japan </a>
          <a href="#"> <i class="fas fa-map-marker-alt"></i> africa </a>
        </div>

        <div class="box">
          <h3>quick links</h3>
          <a href="#"> <i class="fas fa-arrow-right"></i> home </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> featured </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> arrivals </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> reviews </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> blogs </a>
        </div>

        <div class="box">
          <h3>extra links</h3>
          <a href="#"> <i class="fas fa-arrow-right"></i> account info </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> ordered items </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> privacy policy </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> payment method </a>
          <a href="#"> <i class="fas fa-arrow-right"></i> our serivces </a>
        </div>

        <div class="box">
          <h3>contact info</h3>
          <a href="#"> <i class="fas fa-phone"></i> 8102976545</a>
          <a href="#"> <i class="fas fa-phone"></i> +111-222-3333 </a>
          <a href="#">
            <i class="fas fa-envelope"></i> sahilsoni2005s@gmail.com</a
          >
          <img src="image/worldmap.png" class="map" alt="" />
        </div>
      </div>

      <div class="share">
        <a href="#" class="fab fa-facebook-f"></a>
        <a href="#" class="fab fa-twitter"></a>
        <a href="#" class="fab fa-instagram"></a>
        <a href="#" class="fab fa-linkedin"></a>
        <a href="#" class="fab fa-pinterest"></a>
      </div>

      <div class="credit">
        created by <span>team meamber of DevDynasty</span> | all rights reserved!
      </div>
    </section>

    <!-- footer section ends -->

    <!-- loader  -->

    <div class="loader-container-2">
      <img src="image/loader-img.gif" alt="" />
    </div>

    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/968a12fe2a.js" crossorigin="anonymous"></script>
    <script src="app.js"></script>

    <!-- custom js file link  -->
    <script src="js/script.js"></script>
  </body>
</html>
